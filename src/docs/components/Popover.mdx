import { TabProvider, TabTrigger, TabContent, TabList } from "@pswui/Tabs";
import { Story } from "@/components/Story";
import { LoadedCode, GITHUB_STORY, GITHUB_COMP } from "@/components/LoadedCode";
import Examples from "./PopoverBlocks/Examples";
import PopoverPlayground from "./PopoverBlocks/Playground";

# Popover
Displays rich content in a portal, triggered by a button.

## Playground

<PopoverPlayground />

## Installation

1. Create a new file `Popover.tsx` in your component folder.
2. Copy and paste the following code into the file.

<LoadedCode from={GITHUB_COMP("Popover")} />

## Usage

```tsx
import { Popover, PopoverTrigger, PopoverContent } from "@components/popover"
```

```html
<Popover>
  <PopoverTrigger>
    <Button />
  </PopoverTrigger>
  <PopoverContent>
    {/* content of popover */}
  </PopoverContent>
</Popover>
```

> Note:
>
> PopoverTrigger will merge its onClick event handler to its children.
> Also, there is no default element for those.
> So you always have to provide the clickable children for PopoverTrigger.
>
> It is easier to understand if you think of this component as always having the `asChild` prop applied to it.

## Props

### Popover

#### Special

| Prop      | Type                    | Default     | Description                                                       |
|:----------|:------------------------|:------------|:------------------------------------------------------------------|
| `opened`  | `boolean  \| undefined` | `undefined` | Opened state                                                      |
| `asChild` | `boolean`               | `false`     | Whether the root of popover is rendered as a child of a component |

Note that giving `opened` prop not undefined will also sets the internal state `controlled` which disables internal popover open/close handling, like close on outside click.

### PopoverContent

#### Variants

| Prop        | Type                           | Default    | Description                         |
|:------------|:-------------------------------|:-----------|:------------------------------------|
| `direction` | `"row" \| "col"`               | `"col"`    | Main axis of aligning popover       |
| `position`  | `"start" \| "end"`             | `"end"`    | Position of popover                 |
| `anchor`    | `"start" \| "middle" \| "end"` | `"middle"` | Reference point of aligning popover |
| `align`     | `"start" \| "middle" \| "end"` | `"middle"` | Position of reference point         |
| `offset`    | `"sm" \| "md" \| "lg"`         | `"md"`     | Gap between trigger and popover     |

#### Special

| Prop      | Type      | Default | Description                                                                     |
|:----------|:----------|:--------|:--------------------------------------------------------------------------------|
| `asChild` | `boolean` | `false` | `Whether the container of popover content is rendered as a child of a component |

## Examples

### Theme Selector

<TabProvider defaultName={"preview"}>
  <TabList>
    <TabTrigger name={"preview"}>Preview</TabTrigger>
    <TabTrigger name={"code"}>Code</TabTrigger>
  </TabList>
  <TabContent name={"preview"}>
    <Story layout={"centered"}>
      <Examples.ThemeSelector />
    </Story>
  </TabContent>
  <TabContent name={"code"}>
    <LoadedCode from={GITHUB_STORY("Popover", "ThemeSelector")} />
  </TabContent>
</TabProvider>

### User Control

<TabProvider defaultName={"preview"}>
  <TabList>
    <TabTrigger name={"preview"}>Preview</TabTrigger>
    <TabTrigger name={"code"}>Code</TabTrigger>
  </TabList>
  <TabContent name={"preview"}>
    <Story layout={"centered"}>
      <Examples.UserControl />
    </Story>
  </TabContent>
  <TabContent name={"code"}>
    <LoadedCode from={GITHUB_STORY("Popover", "UserControl")} />
  </TabContent>
</TabProvider>